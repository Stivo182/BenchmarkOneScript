# Эталоны

Для обозначения эталонного метода бенчмарка используйте аннотацию `&Эталон`.
Это позволяет сравнивать производительность других методов с выбранным эталоном.

### API

```bsl
// Установка текущего бенчмарка в качестве эталона
ДескрипторБенчмарка.ИспользоватьКакЭталон();

// Снятие эталонного статуса с бенчмарка
ДескрипторБенчмарка.ИспользоватьКакЭталон(Ложь);
```

### Пример

```bsl
&Бенчмарк
Процедура Задержка50() Экспорт
	Приостановить(50);
КонецПроцедуры

&Бенчмарк
&Эталон
Процедура Задержка100() Экспорт
	Приостановить(100);
КонецПроцедуры

&Бенчмарк
Процедура Задержка150() Экспорт
	Приостановить(150);
КонецПроцедуры
```

### Вывод

В отчете автоматически добавляется колонка `Ratio`, показывающая отношение среднего времени выполнения (Mean) к эталону.

| Method      | Baseline |      Mean |   StdErr |    StdDev | Ratio |    Median |   Op/s |
|-------------|----------|----------:|---------:|----------:|------:|----------:|-------:|
| Задержка100 | true     | 100.93 ms | 18.96 us |  73.45 us | 1.000 | 100.95 ms |  9.908 |
| Задержка150 | false    | 150.88 ms | 30.44 us | 117.89 us | 1.495 | 150.83 ms |  6.628 |
| Задержка50  | false    |  50.91 ms | 19.17 us |  74.26 us | 0.504 |  50.93 ms | 19.644 |

## Эталоны по категориям

Для использования нескольких эталонов в одном классе применяйте категории. Каждая категория может иметь собственный эталон.

### Пример

```bsl
&Бенчмарк
&Категория("Быстрый")
&Эталон
Процедура Задержка50() Экспорт
	Приостановить(50);
КонецПроцедуры

&Бенчмарк
&Категория("Быстрый")
Процедура Задержка100() Экспорт
	Приостановить(100);
КонецПроцедуры

&Бенчмарк
&Категория("Медленный")
&Эталон
Процедура Задержка300() Экспорт
	Приостановить(300);
КонецПроцедуры

&Бенчмарк
&Категория("Медленный")
Процедура Задержка350() Экспорт
	Приостановить(350);
КонецПроцедуры
```

### Вывод

| Method      | Categories | Baseline |      Mean |   StdErr |    StdDev | Ratio |    Median |   Op/s |
|-------------|------------|----------|----------:|---------:|----------:|------:|----------:|-------:|
| Задержка50  | Быстрый    | true     |  50.86 ms | 23.53 us |  91.12 us |     1 |  50.87 ms | 19.662 |
| Задержка100 | Быстрый    | false    | 100.93 ms | 19.70 us |  76.28 us |     2 | 100.96 ms |  9.908 |
| Задержка300 | Медленный  | true     | 300.85 ms | 37.90 us | 146.77 us |     1 | 300.91 ms |  3.324 |
| Задержка350 | Медленный  | false    | 350.89 ms | 21.07 us |  81.60 us |     1 | 350.91 ms |  2.850 |