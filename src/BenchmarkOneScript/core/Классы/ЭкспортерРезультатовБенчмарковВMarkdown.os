
#Использовать logos

Перем _Лог; // Лог

// Экспортирует результат запуска бенчмарков в файл Markdown
Процедура ПриСозданииОбъекта()
	_Лог = Логирование.ПолучитьЛог("oscript.lib.benchmark.ЭкспортерРезультатовБенчмарковВMarkdown");
КонецПроцедуры

// Экспортирует результат запуска бенчмарков в файл Markdown
//
// Параметры:
//   РезультатЗапускаБенчмарков - см. Бенчмаркинг.Запустить
//   ПолноеИмяФайла - Строка - Полное имя файла
Процедура Записать(РезультатЗапускаБенчмарков, ПолноеИмяФайла) Экспорт

	_Лог.Отладка("Начало формирования файла: %1", ПолноеИмяФайла);
	
	ЗаписьТекста = Новый ЗаписьТекста(ПолноеИмяФайла, КодировкаТекста.UTF8);
	ЗаписьТекста.ЗаписатьСтроку(Строка(РезультатЗапускаБенчмарков.СредаОкружения));
	ЗаписьТекста.ЗаписатьСтроку("");
	ЗаписьТекста.ЗаписатьСтроку(РезультатЗапускаБенчмарков.Отчет.КакMarkdown());
	ЗаписьТекста.Закрыть();

	_Лог.Отладка("Завершение формирования файла: %1", ПолноеИмяФайла);

КонецПроцедуры

// Расширение файла
//
// Возвращаемое значение:
//   Строка
Функция Расширение() Экспорт
	Возврат "md";
КонецФункции